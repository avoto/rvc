define(["ractive"],function(e){"use strict";function t(e){var t,r;if("number"==typeof e)t=n(e);else for(t="",r=0;r<e.length;r+=1)t+=n(e[r]);return t}function n(e){var t,n="";0>e?e=-e<<1|1:e<<=1;do t=31&e,e>>=5,e>0&&(t|=32),n+=P[t];while(e>0);return n}function r(e){return new Buffer(e).toString("base64")}function i(e){this.version=3,this.file=e.file,this.sources=e.sources,this.sourcesContent=e.sourcesContent,this.names=e.names,this.mappings=e.mappings}function o(e,n){void 0===n&&(n={}),"padding"in n&&(n.offset=n.padding,H||(console.warn("rcu: options.padding is deprecated, use options.offset instead"),H=!0));var r="";if(e.scriptStart){var o,u=new Array((n.offset||0)+1).join(";"),s=e.script.split("\n");if(n.hires!==!1){var a=-e.scriptStart.column;o=s.map(function(n,r){for(var i=0===r?e.scriptStart.line:1,o=t([0,0,i,-a]),u=n.length,s=1;u>s;s+=1)o+=",CAAC";return a=0===r?u+e.scriptStart.column:Math.max(0,u-1),o})}else o=s.map(function(n,r){return 0===r?t([0,0,e.scriptStart.line,e.scriptStart.column]):1===r?t([0,0,1,-e.scriptStart.column]):"AACA"});r=u+o.join(";")}return new i({file:n.file||null,sources:[n.source||null],sourcesContent:[e.source],names:[],mappings:r})}function u(e){var t=e.split("/"),n=t.pop(),r=n.lastIndexOf(".");return-1!==r&&(n=n.substr(0,r)),n}function s(e){$=e}function a(e,t){t=t||{},t.sourceMap?e+="\n//# "+J+"=data:application/json;charset=utf-8;base64,"+U(JSON.stringify(t.sourceMap)):t.sourceURL&&(e+="\n//# sourceURL="+t.sourceURL);try{return T(e)}catch(n){if(X)return void f(e,t.sourceURL||"");throw L&&"SyntaxError"===n.name&&c(e),n}}function c(e){var t,n;t=B+":text/javascript;charset=utf-8,"+encodeURIComponent(e),n=document.createElement("script"),n.src=t,n.onload=function(){I.removeChild(n)},I.appendChild(n)}function f(e,t){var n=new N;try{n._compile("module.exports = function () {\n"+e+"\n};",t)}catch(r){return void console.error(r)}n.exports()}function p(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function l(e,t){for(var n=e.split("\n"),r=n.length,i=0,o=0;r>i;i+=1){var u=n[i],s=o+u.length+1;if(s>t)return{line:i+1,column:t-o};o=s}throw new Error("Could not determine location of character "+t)}function d(e){function t(r,i){if("/"===r){var u=e.substr(0,i);return S=D.test(u)||F.test(u)?!0:z.test(u)&&!h(u,E)?!0:!1,x=i,n}if('"'===r||"'"===r)return x=i,w=r,O.push(t),o;if("`"===r)return x=i,s;if("{"===r)return O.push(t),t;if("}"===r)return x=i,O.pop();if(j&&/\W/.test(r)||(j="+"===r&&"+"===e[i-1]||"-"===r&&"-"===e[i-1]),"<"===r){var a=e.substr(0,i);if(a=m(a,E).trim(),Y.test(a))return O.push(t),c}return t}function n(e){return"/"===e?v:"*"===e?g:"["===e?S?i:t:"\\"===e?(b=r,u):S&&!j?r:t}function r(n,o){if("["===n)return i;if("\\"===n)return b=r,u;if("/"===n){var s=o+1,a=e.slice(x,s),c=a.slice(1,-1);return E.push({start:x,end:s,inner:c,outer:a,type:"regex"}),t}return r}function i(e){return"]"===e?r:"\\"===e?(b=i,u):i}function o(t,n){if("\\"===t)return b=o,u;if(t===w){var r=n+1,i=e.slice(x,r),s=i.slice(1,-1);return E.push({start:x,end:r,inner:s,outer:i,type:"string"}),O.pop()}return o}function u(){return b}function s(n,r){if("$"===n)return a;if("\\"===n)return b=s,u;if("`"===n){var i=r+1,o=e.slice(x,i),c=o.slice(1,-1);return E.push({start:x,end:i,inner:c,outer:o,type:"templateEnd"}),t}return s}function a(n,r){if("{"===n){var i=r+1,o=e.slice(x,i),u=o.slice(1,-2);return E.push({start:x,end:i,inner:u,outer:o,type:"templateChunk"}),O.push(s),t}return s(n,r)}function c(e){return"/"===e?(_--,f):(_++,f)}function f(e,n){return'"'===e||"'"===e?(x=n,w=e,O.push(f),o):"{"===e?(O.push(f),t):">"===e?0>=_?t:d:"/"===e?p:f}function p(e){return">"===e?(_--,0>=_?t:d):f}function d(e){return"{"===e?(O.push(d),t):"<"===e?c:d}function v(n,r){if("\n"===n){var i=e.slice(x,r),o=i.slice(2);return E.push({start:x,end:r,inner:o,outer:i,type:"line"}),t}return v}function g(e){return"*"===e?y:g}function y(n,r){if("/"===n){var i=r+1,o=e.slice(x,i),u=o.slice(2,-2);return E.push({start:x,end:i,inner:u,outer:o,type:"block"}),t}return g(n)}for(var w,b,x,S=!0,j=!1,_=0,O=[],E=[],R=t,M=0;M<e.length;M+=1){if(!R){var q=l(e,M),C=q.line,A=q.column,k=e.slice(0,M),P=/(^|\n).+$/.exec(k)[0],$=e.slice(M),T=/.+(\n|$)/.exec($)[0],L=""+P+T+"\n"+Array(P.length+1).join(" ")+"^";throw new Error("Unexpected character ("+C+":"+A+"). If this is valid JavaScript, it's probably a bug in tippex. Please raise an issue at https://github.com/Rich-Harris/tippex/issues â€“ thanks!\n\n"+L)}R=R(e[M],M)}return E}function h(e,t){e=m(e,t);var n=z.exec(e);if(n&&(n=n[1]),")"===n){for(var r=0,i=e.length;i--;)if(")"===e[i]&&(r+=1),"("===e[i]&&(r-=1,0===r)){i-=1;break}for(;/\s/.test(e[i-1]);)i-=1;if("if"===e.slice(i-2,i)||"while"===e.slice(i-5,i))return!1}return!0}function v(e){for(var t="";e--;)t+=" ";return t}function m(e,t){for(var n="",r=0,i=0;i<t.length;i+=1){var o=t[i];n+=e.slice(r,o.start),n+=G[o.type](o),r=o.end}return n+=e.slice(r)}function g(e){var t="g";return e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),e.sticky&&(t+="y"),e.unicode&&(t+="u"),new RegExp(e.source,t)}function y(e,t,n){var r=t.global;r||(t=g(t));for(var i,o=d(e),u=0;i=t.exec(e);){var s=void 0;do{if(s=o[u],!(s&&s.end<i.index))break;u+=1}while(s);if(!s||s.start>i.index){var a=[].slice.call(i).concat(i.index,e);if(n.apply(null,a),!r)break}}}function w(e,t){var n=0,r=0,i=e.map(function(e){return r+=e.length+1});for(r=0;t>=i[n];)r=i[n],n+=1;var o=t-r;return{line:n,column:o,"char":t}}function b(e,t,n){if(!$)throw new Error("rcu has not been initialised! You must call rcu.init(Ractive) before rcu.parse()");var r=S(e),i=r||$.parse(e,Object.assign({noStringify:!0,interpolate:{script:!1,style:!1}},t||{},{includeLinePositions:!0}));void 0===r&&V(e,i),i.v!==K&&console.warn("Mismatched template version (expected "+K+", got "+i.v+")! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");for(var o,s=[],a=[],c=[],f=i.t,p=f.length;p--;){var l=f[p];if(l&&7===l.t){var d=j("rel",l);if("link"===l.e&&"ractive"===d&&s.push(f.splice(p,1)[0]),d=j("type",l),"script"===l.e&&(!d||d===(n&&n.js?n.js:"text/javascript"))){if(o)throw new Error("You can only have one <script> tag per component file");o=f.splice(p,1)[0]}"style"!==l.e||d&&d!==(n&&n.css?n.css:"text/css")||a.push(f.splice(p,1)[0])}}for(;/^\s*$/.test(f[0]);)f.shift();for(;/^\s*$/.test(f[f.length-1]);)f.pop();var h=s.map(function(e){var t=j("href",e),n=j("name",e)||u(t);if("string"!=typeof n)throw new Error("Error parsing link tag");return{name:n,href:t}}),v={source:e,imports:h,modules:c,template:i,css:a.map(function(e){return e.f}).join(" "),script:""};if(o&&o.f){var m=o.f[0],g=e.indexOf(">",o.p[2])+1,b=g+m.length+e.slice(g).replace(m,"").indexOf("</script"),x=e.split("\n");v.scriptStart=w(x,g),v.scriptEnd=w(x,b),v.script=e.slice(g,b),y(v.script,W,function(e,t,n){var r=t||n;~c.indexOf(r)||c.push(r)})}if(t&&t.includeLinePositions===!1){var _=function(e){return e&&"object"==typeof e?(Object.prototype.hasOwnProperty.call(e,"p")&&Array.isArray(e.p)&&!e.p.filter(function(e){return!Number.isInteger(e)}).length&&delete e.p,Object.keys(e).forEach(function(t){return _(e[t])}),e):e};_(v)}return v}function x(e){for(var t=305419896,n=e.length,r=0;n>r;r++)t+=e.charCodeAt(r)*(r+1);return(4294967295&t).toString(16)}function S(e){var t=x(e);if("undefined"!=typeof window&&"undefined"!=typeof window.localStorage){var n=localStorage.getItem(""+Q+t);return n?JSON.parse(n):void 0}return void 0}function j(e,t){if(t.a&&t.a[e])return t.a[e];if(t.m)for(var n=t.m.length;n--;){var r=t.m[n];if(13===r.t&&r.n===e)return r.f}}function _(e,t,n,r){function i(e){return e&&-1!==e.indexOf("{{")&&-1!==e.indexOf("}}")}function u(e){return i(e)?function(e){return $({template:h.css,data:e()}).fragment.toString(!1)}:h.css}function s(){var i,s={template:h.template,partials:h.partials,css:u(h.css),components:v};if(h.script){var f=o(h,{source:c,content:e});try{var p=new a.Function("component","require","Ractive",h.script,{sourceMap:f}),l={};p(l,t.require,$);var d=l.exports;if("object"==typeof d)for(var m in d)d.hasOwnProperty(m)&&(s[m]=d[m]);i=$.extend(s)}catch(g){return void r(g)}n(i)}else i=$.extend(s),n(i)}t=t||{};var c=t.url||"",f=t.loadImport,p=t.loadModule,l=t.parseOptions,d=t.typeAttrs,h=b(e,l,d),v={},m=h.imports.length+(p?h.modules.length:0),g=!1;if(m){var y=function(){--m||(g?s():setTimeout(s))};if(h.imports.length){if(!f)throw new Error('Component definition includes imports (e.g. <link rel="ractive" href="'+h.imports[0].href+'">) but no loadImport method was passed to rcu.make()');h.imports.forEach(function(e){f(e.name,e.href,c,function(t){v[e.name]=t,y()})})}p&&h.modules.length&&h.modules.forEach(function(e){p(e,e,c,y)})}else setTimeout(s,0);g=!0}function O(e,t){if(!t||"/"===e.charAt(0))return e;var n=(t||"").split("/"),r=e.split("/");n.pop();for(var i;i=r.shift();)".."===i?n.pop():"."!==i&&n.push(i);return n.join("/")}function E(e,t){var n=t.shift();return void 0===n?!0:e.hasOwnProperty(n)?E(e[n],t):!1}function R(e,t,n,r,i){_(n,{url:e+".html",loadImport:function(n,r,i,o){r=O(r,e);var u=re();"/"===r.charAt(0)&&u.rvcRootPath&&(r=u.rvcRootPath+r),t(["rvc!"+r.replace(/\.html$/,"")],o)},loadModule:function(e,n,r,i){t([n],i)},require:function(e){return t(e)}},r,i)}function M(e,t,n,r){function i(e,t,n,r,o){function u(e){return n.slice(1)+e.join(","+(n&&"\n")+s)+(n?" ":"")}var s=r+n;switch(e=t?t(e):e,"undefined"==typeof e?"undefined":ie(e)){case"string":return JSON.stringify(e);case"boolean":case"number":case"undefined":return""+e;case"function":return e.toString()}if(null===e)return"null";if(e instanceof RegExp)return e.toString();if(e instanceof Date)return"new Date("+e.getTime()+")";var a=o.indexOf(e)+1;if(a>0)return"{$circularReference:"+a+"}";if(o.push(e),Array.isArray(e))return"["+u(e.map(function(e){return i(e,t,n,s,o.slice())}))+"]";var c=Object.keys(e);return c.length?"{"+u(c.map(function(r){return(q(r)?r:JSON.stringify(r))+":"+i(e[r],t,n,s,o.slice())}))+"}":"{}"}var o=[];return i(e,t,void 0===n?"  ":n||"",r||"",o)}function q(e){return/^[a-z_$][0-9a-z_$]*$/gi.test(e)&&!oe.test(e)}function C(e){return e.replace(/^\s+/gm,"")}function A(e,t,n){var r=b(t),i=["require","ractive"],o=["require","Ractive"],u=[];r.imports.forEach(function(e,t){var n=e.href,r=e.name,s="_import_"+t;i.push("rvc!"+n.replace(/\.html$/,"")),o.push(s),u.push('"'+r+'": '+s)}),i=i.concat(r.modules);var s=["template: "+M(r.template,null,"","")];r.css&&s.push("css: "+JSON.stringify(C(r.css))),r.imports.length&&s.push("components: {"+u.join(",")+"}");var a='define("rvc!'+e+'", '+JSON.stringify(i)+",function("+o.join(",")+"){\n	var __options__ = {\n		"+s.join(",\n		")+"\n	},\n	component = {};";r.script&&(a+="\n"+r.script+'\n	if ( typeof component.exports === "object" ) {\n		for ( var __prop__ in component.exports ) {\n			if ( component.exports.hasOwnProperty(__prop__) ) {\n				__options__[__prop__] = component.exports[__prop__];\n			}\n		}\n	}\n'),a+="return Ractive.extend(__options__);\n});",n(a)}e="default"in e?e["default"]:e;var k={},P={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(e,t){k[e]=t,P[t]=e}),i.prototype={toString:function(){return JSON.stringify(this)},toUrl:function(){return"data:application/json;charset=utf-8;base64,"+r(this.toString())}};var $,T,L,X,I,N,U,H=!1,J="sourceMappingUrl",B="data";T=eval,"undefined"!=typeof document?(L=!0,I=document.getElementsByTagName("head")[0]):"undefined"!=typeof process&&(X=!0,N=(require.nodeRequire||require)("module")),U="function"==typeof btoa?function(e){return e=e.replace(/[^\x00-\x7F]/g,function(e){for(var t=e.charCodeAt(0).toString(16);t.length<4;)t="0"+t;return"\\u"+t}),btoa(e)}:"function"==typeof Buffer?function(e){return new Buffer(e,"utf-8").toString("base64")}:function(){},a.Function=function(){var e,t,n,r,i=[];for(e=arguments.length;e--;)i[e]=arguments[e];return r="object"==typeof i[i.length-1]?i.pop():{},1===i.length&&"[object Array]"===Object.prototype.toString.call(i)&&(i=i[0]),r.sourceMap&&(r.sourceMap=p(r.sourceMap),r.sourceMap.mappings=";"+r.sourceMap.mappings),t=i.pop(),n="(function ("+i.join(", ")+") {\n"+t+"\n})",a(n,r)};var D=/(case|default|delete|do|else|in|instanceof|new|return|throw|typeof|void)\s*$/,F=/(^|\{|\(|\[\.|;|,|<|>|<=|>=|==|!=|===|!==|\+|-|\*\%|<<|>>|>>>|&|\||\^|!|~|&&|\|\||\?|:|=|\+=|-=|\*=|%=|<<=|>>=|>>>=|&=|\|=|\^=|\/=|\/)\s*$/,z=/(\}|\)|\+\+|--)\s*$/,Y=/^$|[=:;,\(\{\}\[|&+]\s*$/,G={string:function(e){return e.outer[0]+v(e.inner.length)+e.outer[0]},line:function(e){return v(e.outer.length)},block:function(e){return e.outer.split("\n").map(function(e){return v(e.length)}).join("\n")},regex:function(e){return"/"+v(e.inner.length)+"/"},templateChunk:function(e){return e.outer[0]+v(e.inner.length)+"${"},templateEnd:function(e){return e.outer[0]+v(e.inner.length)+"`"}},W=/require\s*\(\s*(?:"([^"]+)"|'([^']+)')\s*\)/g,K=4,Q="_rcu_",V=function(e,t){var n=x(e);"undefined"!=typeof window&&"undefined"!=typeof window.localStorage&&window.localStorage.setItem(""+Q+n,JSON.stringify(t))},Z=function ae(e,t,n,r,i){return 3==arguments.length?(r=n,n=void 0):2==arguments.length&&(r=t,t=n=void 0),{buildCache:{},load:function(i,o,u,s){var a=o.toUrl(i)+(s.versionSuffix?s.versionSuffix:""),c="";if(-1!=a.indexOf("?")&&(c=a.substr(a.indexOf("?")),a=a.substr(0,a.length-c.length)),s.precompiled instanceof Array){for(var f=0;f<s.precompiled.length;f++)if(a.substr(0,s.precompiled[f].length)==s.precompiled[f])return require([a+"."+e+".js"+c],u,u.error)}else if(s.precompiled===!0)return require([a+"."+e+".js"+c],u,u.error);if(t&&!i.match(/:\/\//)){var p=!1;if(n)for(var f=0;f<n.length;f++)i.substr(i.length-n[f].length-1)=="."+n[f]&&(p=!0);a+=p?c:"."+t+c}else a+=c;var l=this;ae.fetch(a,function(e){r(i,e,o,function(e){"string"==typeof e?(s.isBuild&&(l.buildCache[i]=e),u.fromText(e)):u(e)},u.error,s)},u.error)},write:function(e,t,n){var r=this.buildCache[t];r&&n.asModule(e+"!"+t,r)},writeFile:function(t,n,r,i){i.asModule(t+"!"+n,r.toUrl(n+"."+e+".js"),this.buildCache[n])}}};if("undefined"!=typeof window){var ee=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],te=function(e){var t=!0,n=/^(\w+:)?\/\/([^\/]+)/.exec(e);"undefined"!=typeof window&&n&&(t=n[2]===window.location.host,n[1]&&(t&=n[1]===window.location.protocol));var r;if("undefined"!=typeof XMLHttpRequest)r=new XMLHttpRequest;else for(var i,o=0;3>o;o+=1){i=ee[o];try{r=new ActiveXObject(i)}catch(u){}if(r){ee=[i];break}}if(!t)if("undefined"!=typeof XDomainRequest)r=new XDomainRequest;else if(!("withCredentials"in r))throw new Error("getXhr(): Cross Origin XHR not supported.");if(!r)throw new Error("getXhr(): XMLHttpRequest not available");return r};Z.fetch=function(e,t,n){var r=te(e);r.open("GET",e,!requirejs.inlineRequire),r.onreadystatechange=function(i){var o,u;if(4===r.readyState)if(o=r.status,o>399&&600>o)u=new Error(e+" HTTP status: "+o),u.xhr=r,n&&n(u);else{if(""==r.responseText)return n(new Error(e+" empty response"));t(r.responseText)}},r.send(null)}}else if("undefined"!=typeof process&&process.versions&&process.versions.node){var ne=requirejs.nodeRequire("fs");Z.fetch=function(e,t){t(ne.readFileSync(e,"utf8"))}}else"undefined"!=typeof Packages?Z.fetch=function(e,t,n){var r,i,o="utf-8",u=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(u),o)),c="";try{for(r=new java.lang.StringBuffer,i=a.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),r.append(i);null!==(i=a.readLine());)r.append(s),r.append(i);c=String(r.toString())}catch(f){n&&n(f)}finally{a.close()}t(c)}:Z.fetch=function(){throw new Error("Environment unsupported.")};var re=function(){return requirejs&&E(requirejs,["s","contexts","_","config"])?requirejs.s.contexts._.config:{}},ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe=/^(abstract|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|undefined|var|void|volatile|while|with)$/,ue=re();ue.ractiveDefaultsData&&(e.defaults.data=ue.ractiveDefaultsData),s(e);var se=Z("rvc","html",function(e,t,n,r,i,o){o.isBuild?A(e,t,r,i):R(e,n,t,r,i)});return se});
//# sourceMappingURL=rvc.min.js.map
