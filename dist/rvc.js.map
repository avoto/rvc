{"version":3,"file":"rvc.js","sources":["../src/rvc.js","../src/build.js","../src/utils/minifycss.js","../src/utils/tosource.js","../src/load.js","../src/utils/requirconfig.js","../src/utils/amd-loader.js","../node_modules/rcu/dist/rcu.es6.js"],"sourcesContent":["import Ractive from 'ractive';\nimport * as rcu from 'rcu';\nimport amdLoader from './utils/amd-loader';\nimport load from './load';\nimport build from './build';\nimport requireconfig from './utils/requirconfig'\n\nlet requireJsConfig = requireconfig();\n\nif( requireJsConfig.ractiveDefaultsData) {\n    Ractive.defaults.data = requireJsConfig.ractiveDefaultsData;\n}\n\nrcu.init( Ractive );\n\nlet rvc = amdLoader( 'rvc', 'html', ( name, source, req, callback, errback, config ) => {\n\tif ( config.isBuild ) {\n\t\tbuild( name, source, callback, errback );\n\t} else {\n\t\tload( name, req, source, callback, errback, config.versionSuffix );\n\t}\n});\n\nexport default rvc;\n","import * as rcu from 'rcu';\nimport toSource from './utils/tosource';\nimport minifycss from './utils/minifycss';\n\nexport default function build ( name, source, callback ) {\n\tlet definition = rcu.parse( source );\n\tlet dependencies = [ 'require', 'ractive' ];\n\tlet dependencyArgs = [ 'require', 'Ractive' ];\n\tlet importMap = [];\n\n\t// Add dependencies from <link> tags, i.e. sub-components\n\tdefinition.imports.forEach( ( toImport, i ) => {\n\t\tlet href = toImport.href;\n\t\tlet name = toImport.name;\n\n\t\tlet argumentName = `_import_${i}`;\n\n\t\tdependencies.push( 'rvc!' + href.replace( /\\.html$/, '' ) );\n\t\tdependencyArgs.push( argumentName );\n\n\t\timportMap.push( `\"${name}\": ${argumentName}` );\n\t});\n\n\t// Add dependencies from inline require() calls\n\tdependencies = dependencies.concat( definition.modules );\n\n\tlet options = [\n\t\t`template: ${toSource( definition.template, null, '', '' )}`\n\t];\n\n\tif ( definition.css ) {\n\t\toptions.push( `css: ${JSON.stringify( minifycss( definition.css ) )}` );\n\t}\n\n\tif ( definition.imports.length ) {\n\t\toptions.push( `components: {${importMap.join( ',' )}}` );\n\t}\n\n\tlet builtModule = `define(\"rvc!${name}\", ${JSON.stringify( dependencies )},function(${dependencyArgs.join( ',' )}){\n\tvar __options__ = {\n\t\t${options.join(',\\n\\t\\t')}\n\t},\n\tcomponent = {};`;\n\n\tif ( definition.script ) {\n\t\tbuiltModule += `\n${definition.script}\n\tif ( typeof component.exports === \"object\" ) {\n\t\tfor ( var __prop__ in component.exports ) {\n\t\t\tif ( component.exports.hasOwnProperty(__prop__) ) {\n\t\t\t\t__options__[__prop__] = component.exports[__prop__];\n\t\t\t}\n\t\t}\n\t}\n`;\n\t}\n\n\tbuiltModule += `return Ractive.extend(__options__);\n});`;\n\n\tcallback( builtModule );\n}\n","// TODO more intelligent minification? removing comments?\n// collapsing declarations?\nexport default function minifycss ( css ) {\n\treturn css.replace( /^\\s+/gm, '' );\n}","/*\n  toSource\n  Adapted from https://github.com/marcello3d/node-tosource by Marcello Bastéa-Forte\n  zlib license: https://github.com/marcello3d/node-tosource/blob/master/LICENSE\n*/\n\nexport default function toSource (object, filter, indent, startingIndent) {\n    var seen = [];\n    return walk(object, filter, indent === undefined ? '  ' : (indent || ''), startingIndent || '', seen);\n\n    function walk(object, filter, indent, currentIndent, seen) {\n        var nextIndent = currentIndent + indent;\n        object = filter ? filter(object) : object;\n\n        switch (typeof object) {\n            case 'string':\n                return JSON.stringify(object);\n            case 'boolean':\n            case 'number':\n            case 'undefined':\n                return ''+object;\n            case 'function':\n                return object.toString();\n        }\n\n        if (object === null) return 'null';\n        if (object instanceof RegExp) return object.toString();\n        if (object instanceof Date) return 'new Date('+object.getTime()+')';\n\n\n        var seenIndex = seen.indexOf(object) + 1;\n        if (seenIndex > 0) return '{$circularReference:'+seenIndex+'}';\n        seen.push(object);\n\n        function join(elements) {\n            return indent.slice(1) + elements.join(','+(indent&&'\\n')+nextIndent) + (indent ? ' ' : '');\n        }\n\n        if (Array.isArray(object)) {\n            return '[' + join(object.map(function(element){\n                return walk(element, filter, indent, nextIndent, seen.slice());\n            })) + ']';\n        }\n        var keys = Object.keys(object);\n        return keys.length ? '{' + join(keys.map(function (key) {\n            return (legalKey(key) ? key : JSON.stringify(key)) + ':' + walk(object[key], filter, indent, nextIndent, seen.slice());\n        })) + '}' : '{}';\n    }\n}\n\nvar KEYWORD_REGEXP = /^(abstract|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|undefined|var|void|volatile|while|with)$/;\n\nfunction legalKey(string) {\n    return /^[a-z_$][0-9a-z_$]*$/gi.test(string) && !KEYWORD_REGEXP.test(string);\n}","import * as rcu from 'rcu';\nimport requireconfig from './utils/requirconfig';\n\nexport default function load ( base, req, source, callback, errback, versionSuffix ) {\n\n\trcu.make( source, {\n\t\turl: `${base}.html`,\n        versionSuffix: versionSuffix,\n\t\tloadImport ( name, path, baseUrl, callback ) {\n\t\t\tpath = rcu.resolve( path, base );\n            let requireJsConfig = requireconfig();\n            if(path.charAt( 0 ) === '/' && requireJsConfig.rvcRootPath) {\n\t\t\t\tpath = requireJsConfig.rvcRootPath + path;\n\t\t\t}\n\t\t\treq([ 'rvc!' + path.replace( /\\.html$/, '' ) ], callback );\n\t\t},\n\t\tloadModule ( name, path, baseUrl, callback ) {\n\t\t\treq([ path ], callback );\n\t\t},\n\t\trequire ( name ) {\n\t\t\treturn req( name );\n\t\t}\n\t}, callback, errback );\n}\n\n\n","export default function () {\n\n    if(requirejs && nestedPropertyExists(requirejs, ['s','contexts','_','config'])) {\n        return requirejs.s.contexts._.config;\n    }\n    return {};\n\n}\n\nfunction nestedPropertyExists(obj, props) {\n    let prop = props.shift();\n    return prop === undefined\n        ? true\n        : obj.hasOwnProperty(prop) ? nestedPropertyExists(obj[prop], props) : false;\n}","/*\n  amd-loader\n  Adapted from https://github.com/guybedford/amd-loader by Guy Bedford\n  MIT License: https://github.com/guybedford/amd-loader/blob/master/LICENSE\n*/\n\nvar loader = function(pluginId, ext, allowExts, compile, config) {\n  if (arguments.length == 3) {\n    compile = allowExts;\n    allowExts = undefined;\n  }\n  else if (arguments.length == 2) {\n    compile = ext;\n    ext = allowExts = undefined;\n  }\n\n  return {\n    buildCache: {},\n    load: function(name, req, load, config) {\n      var path = req.toUrl(name) + ( config.versionSuffix ? config.versionSuffix : '' );\n      var queryString = '';\n      if (path.indexOf('?') != -1) {\n        queryString = path.substr(path.indexOf('?'));\n        path = path.substr(0, path.length - queryString.length);\n      }\n\n      // precompiled -> load from .ext.js extension\n      if (config.precompiled instanceof Array) {\n        for (var i = 0; i < config.precompiled.length; i++)\n          if (path.substr(0, config.precompiled[i].length) == config.precompiled[i])\n            return require([path + '.' + pluginId + '.js' + queryString], load, load.error);\n      }\n      else if (config.precompiled === true)\n        return require([path + '.' + pluginId + '.js' + queryString], load, load.error);\n\n      // only add extension if a moduleID not a path\n      // TODO: investigate case && name.substr(0, 1) != '/'\n      if (ext && !name.match(/:\\/\\//)) {\n        var validExt = false;\n        if (allowExts) {\n          for (var i = 0; i < allowExts.length; i++) {\n            if (name.substr(name.length - allowExts[i].length - 1) == '.' + allowExts[i])\n              validExt = true;\n          }\n        }\n        if (!validExt)\n          path += '.' + ext + queryString;\n        else\n          path += queryString;\n      }\n      else {\n        path += queryString;\n      }\n\n\n      var self = this;\n\n      loader.fetch(path, function(source) {\n        compile(name, source, req, function(compiled) {\n          if (typeof compiled == 'string') {\n            if (config.isBuild)\n              self.buildCache[name] = compiled;\n            load.fromText(compiled);\n          }\n          else\n            load(compiled);\n        }, load.error, config);\n      }, load.error);\n    },\n    write: function(pluginName, moduleName, write) {\n      var compiled = this.buildCache[moduleName];\n      if (compiled)\n        write.asModule(pluginName + '!' + moduleName, compiled);\n    },\n    writeFile: function(pluginName, name, req, write) {\n      write.asModule(pluginName + '!' + name, req.toUrl(name + '.' + pluginId + '.js'), this.buildCache[name]);\n    }\n  };\n}\n\n//loader.load = function(name, req, load, config) {\n//  load(loader);\n//}\n\nif (typeof window != 'undefined') {\n  var progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'];\n  var getXhr = function(path) {\n    // check if same domain\n    var sameDomain = true,\n      domainCheck = /^(\\w+:)?\\/\\/([^\\/]+)/.exec(path);\n    if (typeof window != 'undefined' && domainCheck) {\n      sameDomain = domainCheck[2] === window.location.host;\n      if (domainCheck[1])\n        sameDomain &= domainCheck[1] === window.location.protocol;\n    }\n\n    // create xhr\n    var xhr;\n    if (typeof XMLHttpRequest !== 'undefined')\n      xhr = new XMLHttpRequest();\n    else {\n      var progId;\n      for (var i = 0; i < 3; i += 1) {\n        progId = progIds[i];\n        try {\n          xhr = new ActiveXObject(progId);\n        }\n        catch (e) {}\n\n        if (xhr) {\n          progIds = [progId];  // so faster next time\n          break;\n        }\n      }\n    }\n\n    // use cors if necessary\n    if (!sameDomain) {\n      if (typeof XDomainRequest != 'undefined')\n        xhr = new XDomainRequest();\n      else if (!('withCredentials' in xhr))\n        throw new Error('getXhr(): Cross Origin XHR not supported.');\n    }\n\n    if (!xhr)\n      throw new Error('getXhr(): XMLHttpRequest not available');\n\n    return xhr;\n  };\n\n  loader.fetch = function (url, callback, errback) {\n    // get the xhr with CORS enabled if cross domain\n    var xhr = getXhr(url);\n\n    xhr.open('GET', url, !requirejs.inlineRequire);\n    xhr.onreadystatechange = function(evt) {\n      var status, err;\n      //Do not explicitly handle errors, those should be\n      //visible via console output in the browser.\n      if (xhr.readyState === 4) {\n        status = xhr.status;\n        if (status > 399 && status < 600) {\n          err = new Error(url + ' HTTP status: ' + status);\n          err.xhr = xhr;\n          if (errback)\n            errback(err);\n        }\n        else {\n          if (xhr.responseText == '')\n            return errback(new Error(url + ' empty response'));\n          callback(xhr.responseText);\n        }\n      }\n    };\n    xhr.send(null);\n  }\n}\nelse if (typeof process !== 'undefined' && process.versions && !!process.versions.node) {\n  var fs = requirejs.nodeRequire('fs');\n  loader.fetch = function(path, callback) {\n    callback(fs.readFileSync(path, 'utf8'));\n  }\n}\nelse if (typeof Packages !== 'undefined') {\n  loader.fetch = function(path, callback, errback) {\n    var stringBuffer, line,\n      encoding = 'utf-8',\n      file = new java.io.File(path),\n      lineSeparator = java.lang.System.getProperty('line.separator'),\n      input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),\n      content = '';\n    try {\n      stringBuffer = new java.lang.StringBuffer();\n      line = input.readLine();\n\n      // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324\n      // http://www.unicode.org/faq/utf_bom.html\n\n      // Note that when we use utf-8, the BOM should appear as 'EF BB BF', but it doesn't due to this bug in the JDK:\n      // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058\n      if (line && line.length() && line.charAt(0) === 0xfeff) {\n        // Eat the BOM, since we've already found the encoding on this file,\n        // and we plan to concatenating this buffer with others; the BOM should\n        // only appear at the top of a file.\n        line = line.substring(1);\n      }\n\n      stringBuffer.append(line);\n\n      while ((line = input.readLine()) !== null) {\n        stringBuffer.append(lineSeparator);\n        stringBuffer.append(line);\n      }\n      //Make sure we return a JavaScript string and not a Java string.\n      content = String(stringBuffer.toString()); //String\n    }\n    catch(err) {\n      if (errback)\n        errback(err);\n    }\n    finally {\n      input.close();\n    }\n    callback(content);\n  }\n}\nelse {\n  loader.fetch = function() {\n    throw new Error('Environment unsupported.');\n  }\n}\n\nexport default loader;","var charToInteger = {};\nvar integerToChar = {};\n\n'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.split( '' ).forEach( function ( char, i ) {\n\tcharToInteger[ char ] = i;\n\tintegerToChar[ i ] = char;\n});\n\nfunction encode ( value ) {\n\tvar result, i;\n\n\tif ( typeof value === 'number' ) {\n\t\tresult = encodeInteger( value );\n\t} else {\n\t\tresult = '';\n\t\tfor ( i = 0; i < value.length; i += 1 ) {\n\t\t\tresult += encodeInteger( value[i] );\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction encodeInteger ( num ) {\n\tvar result = '', clamped;\n\n\tif ( num < 0 ) {\n\t\tnum = ( -num << 1 ) | 1;\n\t} else {\n\t\tnum <<= 1;\n\t}\n\n\tdo {\n\t\tclamped = num & 31;\n\t\tnum >>= 5;\n\n\t\tif ( num > 0 ) {\n\t\t\tclamped |= 32;\n\t\t}\n\n\t\tresult += integerToChar[ clamped ];\n\t} while ( num > 0 );\n\n\treturn result;\n}\n\n/**\n * Encodes a string as base64\n * @param {string} str - the string to encode\n * @returns {string}\n */\nfunction btoa$1 ( str ) {\n\treturn new Buffer( str ).toString( 'base64' );\n}\n\nfunction SourceMap ( properties ) {\n\tthis.version = 3;\n\n\tthis.file           = properties.file;\n\tthis.sources        = properties.sources;\n\tthis.sourcesContent = properties.sourcesContent;\n\tthis.names          = properties.names;\n\tthis.mappings       = properties.mappings;\n}\n\nSourceMap.prototype = {\n\ttoString: function toString () {\n\t\treturn JSON.stringify( this );\n\t},\n\n\ttoUrl: function toUrl () {\n\t\treturn 'data:application/json;charset=utf-8;base64,' + btoa$1( this.toString() );\n\t}\n};\n\nvar alreadyWarned = false;\n\n/**\n * Generates a v3 sourcemap between an original source and its built form\n * @param {object} definition - the result of `rcu.parse( originalSource )`\n * @param {object} options\n * @param {string} options.source - the name of the original source file\n * @param {number=} options.offset - the number of lines in the generated\n   code that precede the script portion of the original source\n * @param {string=} options.file - the name of the generated file\n * @returns {object}\n */\nfunction generateSourceMap ( definition, options ) {\n\tif ( options === void 0 ) options = {};\n\n\tif ( 'padding' in options ) {\n\t\toptions.offset = options.padding;\n\n\t\tif ( !alreadyWarned ) {\n\t\t\tconsole.warn( 'rcu: options.padding is deprecated, use options.offset instead' ); // eslint-disable-line no-console\n\t\t\talreadyWarned = true;\n\t\t}\n\t}\n\n\tvar mappings = '';\n\n\tif ( definition.scriptStart ) {\n\t\t// The generated code probably includes a load of module gubbins - we don't bother\n\t\t// mapping that to anything, instead we just have a bunch of empty lines\n\t\tvar offset = new Array( ( options.offset || 0 ) + 1 ).join( ';' );\n\t\tvar lines = definition.script.split( '\\n' );\n\n\t\tvar encoded;\n\n\t\tif ( options.hires !== false ) {\n\t\t\tvar previousLineEnd = -definition.scriptStart.column;\n\n\t\t\tencoded = lines.map( function ( line, i ) {\n\t\t\t\tvar lineOffset = i === 0 ? definition.scriptStart.line : 1;\n\n\t\t\t\tvar encoded = encode([ 0, 0, lineOffset, -previousLineEnd ]);\n\n\t\t\t\tvar lineEnd = line.length;\n\n\t\t\t\tfor ( var j = 1; j < lineEnd; j += 1 ) {\n\t\t\t\t\tencoded += ',CAAC';\n\t\t\t\t}\n\n\t\t\t\tpreviousLineEnd = i === 0 ?\n\t\t\t\t\tlineEnd + definition.scriptStart.column :\n\t\t\t\t\tMath.max( 0, lineEnd - 1 );\n\n\t\t\t\treturn encoded;\n\t\t\t});\n\t\t} else {\n\t\t\tencoded = lines.map( function ( line, i ) {\n\t\t\t\tif ( i === 0 ) {\n\t\t\t\t\t// first mapping points to code immediately following opening <script> tag\n\t\t\t\t\treturn encode([ 0, 0, definition.scriptStart.line, definition.scriptStart.column ]);\n\t\t\t\t}\n\n\t\t\t\tif ( i === 1 ) {\n\t\t\t\t\treturn encode([ 0, 0, 1, -definition.scriptStart.column ]);\n\t\t\t\t}\n\n\t\t\t\treturn 'AACA'; // equates to [ 0, 0, 1, 0 ];\n\t\t\t});\n\t\t}\n\n\t\tmappings = offset + encoded.join( ';' );\n\t}\n\n\treturn new SourceMap({\n\t\tfile: options.file || null,\n\t\tsources: [ options.source || null ],\n\t\tsourcesContent: [ definition.source ],\n\t\tnames: [],\n\t\tmappings: mappings\n\t});\n}\n\nfunction getName ( path ) {\n\tvar pathParts = path.split( '/' );\n\tvar filename = pathParts.pop();\n\n\tvar lastIndex = filename.lastIndexOf( '.' );\n\tif ( lastIndex !== -1 ) filename = filename.substr( 0, lastIndex );\n\n\treturn filename;\n}\n\nvar Ractive;\n\nfunction init ( copy ) {\n\tRactive = copy;\n}\n\nvar _eval;\nvar isBrowser;\nvar isNode;\nvar head;\nvar Module;\nvar base64Encode;\nvar SOURCE_MAPPING_URL = 'sourceMappingUrl';\nvar DATA = 'data';\n\n// This causes code to be eval'd in the global scope\n_eval = eval;\n\nif ( typeof document !== 'undefined' ) {\n\tisBrowser = true;\n\thead = document.getElementsByTagName( 'head' )[0];\n} else if ( typeof process !== 'undefined' ) {\n\tisNode = true;\n\tModule = ( require.nodeRequire || require )( 'module' );\n}\n\nif ( typeof btoa === 'function' ) {\n\tbase64Encode = function ( str ) {\n\t\tstr = str.replace( /[^\\x00-\\x7F]/g, function ( char ) {\n\t\t\tvar hex = char.charCodeAt( 0 ).toString( 16 );\n\t\t\twhile ( hex.length < 4 ) hex = '0' + hex;\n\n\t\t\treturn '\\\\u' + hex;\n\t\t});\n\n\t\treturn btoa( str );\n\t};\n} else if ( typeof Buffer === 'function' ) {\n\tbase64Encode = function ( str ) {\n\t\treturn new Buffer( str, 'utf-8' ).toString( 'base64' );\n\t};\n} else {\n\tbase64Encode = function () {};\n}\n\nfunction eval2 ( script, options ) {\n\toptions = options || {};\n\n\tif ( options.sourceMap ) {\n\t\tscript += '\\n//# ' + SOURCE_MAPPING_URL + '=data:application/json;charset=utf-8;base64,' + base64Encode( JSON.stringify( options.sourceMap ) );\n\t}\n\n\telse if ( options.sourceURL ) {\n\t\tscript += '\\n//# sourceURL=' + options.sourceURL;\n\t}\n\n\ttry {\n\t\treturn _eval( script );\n\t} catch ( err ) {\n\t\tif ( isNode ) {\n\t\t\tlocateErrorUsingModule( script, options.sourceURL || '' );\n\t\t\treturn;\n\t\t}\n\n\t\t// In browsers, only locate syntax errors. Other errors can\n\t\t// be located via the console in the normal fashion\n\t\telse if ( isBrowser && err.name === 'SyntaxError' ) {\n\t\t\tlocateErrorUsingDataUri( script );\n\t\t}\n\n\t\tthrow err;\n\t}\n}\n\neval2.Function = function () {\n\tvar i, args = [], body, wrapped, options;\n\n\ti = arguments.length;\n\twhile ( i-- ) {\n\t\targs[i] = arguments[i];\n\t}\n\n\tif ( typeof args[ args.length - 1 ] === 'object' ) {\n\t\toptions = args.pop();\n\t} else {\n\t\toptions = {};\n\t}\n\n\t// allow an array of arguments to be passed\n\tif ( args.length === 1 && Object.prototype.toString.call( args ) === '[object Array]' ) {\n\t\targs = args[0];\n\t}\n\n\tif ( options.sourceMap ) {\n\t\toptions.sourceMap = clone( options.sourceMap );\n\n\t\t// shift everything a line down, to accommodate `(function (...) {`\n\t\toptions.sourceMap.mappings = ';' + options.sourceMap.mappings;\n\t}\n\n\n\tbody = args.pop();\n\twrapped = '(function (' + args.join( ', ' ) + ') {\\n' + body + '\\n})';\n\n\treturn eval2( wrapped, options );\n};\n\nfunction locateErrorUsingDataUri ( code ) {\n\tvar dataURI, scriptElement;\n\n\tdataURI = DATA + ':text/javascript;charset=utf-8,' + encodeURIComponent( code );\n\n\tscriptElement = document.createElement( 'script' );\n\tscriptElement.src = dataURI;\n\n\tscriptElement.onload = function () {\n\t\thead.removeChild( scriptElement );\n\t};\n\n\thead.appendChild( scriptElement );\n}\n\nfunction locateErrorUsingModule ( code, url ) {\n\tvar m = new Module();\n\n\ttry {\n\t\tm._compile( 'module.exports = function () {\\n' + code + '\\n};', url );\n\t} catch ( err ) {\n\t\tconsole.error( err );\n\t\treturn;\n\t}\n\n\tm.exports();\n}\n\nfunction clone ( obj ) {\n\tvar cloned = {}, key;\n\n\tfor ( key in obj ) {\n\t\tif ( obj.hasOwnProperty( key ) ) {\n\t\t\tcloned[ key ] = obj[ key ];\n\t\t}\n\t}\n\n\treturn cloned;\n}\n\nfunction getLocation ( source, charIndex ) {\n\tvar lines = source.split( '\\n' );\n\tvar len = lines.length;\n\n\tfor ( var i = 0, lineStart = 0; i < len; i += 1 ) {\n\t\tvar line = lines[i];\n\t\tvar lineEnd =  lineStart + line.length + 1; // +1 for newline\n\n\t\tif ( lineEnd > charIndex ) {\n\t\t\treturn { line: i + 1, column: charIndex - lineStart };\n\t\t}\n\n\t\tlineStart = lineEnd;\n\t}\n\n\tthrow new Error( (\"Could not determine location of character \" + charIndex) );\n}\n\nvar keywords = /(case|default|delete|do|else|in|instanceof|new|return|throw|typeof|void)\\s*$/;\nvar punctuators = /(^|\\{|\\(|\\[\\.|;|,|<|>|<=|>=|==|!=|===|!==|\\+|-|\\*\\%|<<|>>|>>>|&|\\||\\^|!|~|&&|\\|\\||\\?|:|=|\\+=|-=|\\*=|%=|<<=|>>=|>>>=|&=|\\|=|\\^=|\\/=|\\/)\\s*$/;\nvar ambiguous = /(\\}|\\)|\\+\\+|--)\\s*$/;\nvar beforeJsx = /^$|[=:;,\\(\\{\\}\\[|&+]\\s*$/;\n\nfunction find ( str ) {\n\tvar quote;\n\tvar escapedFrom;\n\tvar regexEnabled = true;\n\tvar pfixOp = false;\n\tvar jsxTagDepth = 0;\n\tvar stack = [];\n\n\tvar start;\n\tvar found = [];\n\tvar state = base;\n\n\tfunction base ( char, i ) {\n\t\tif ( char === '/' ) {\n\t\t\t// could be start of regex literal OR division punctuator. Solution via\n\t\t\t// http://stackoverflow.com/questions/5519596/when-parsing-javascript-what-determines-the-meaning-of-a-slash/27120110#27120110\n\t\t\tvar substr = str.substr( 0, i );\n\t\t\tif ( keywords.test( substr ) || punctuators.test( substr ) ) { regexEnabled = true; }\n\t\t\telse if ( ambiguous.test( substr ) && !tokenClosesExpression( substr, found ) ) { regexEnabled = true; } // TODO save this determination for when it's necessary?\n\t\t\telse { regexEnabled = false; }\n\n\t\t\treturn start = i, slash;\n\t\t}\n\n\t\tif ( char === '\"' || char === \"'\" ) { return start = i, quote = char, stack.push( base ), string; }\n\t\tif ( char === '`' ) { return start = i, templateString; }\n\n\t\tif ( char === '{' ) { return stack.push( base ), base; }\n\t\tif ( char === '}' ) { return start = i, stack.pop(); }\n\n\t\tif ( !( pfixOp && /\\W/.test( char ) ) ) {\n\t\t\tpfixOp = ( char === '+' && str[ i - 1 ] === '+' ) || ( char === '-' && str[ i - 1 ] === '-' );\n\t\t}\n\n\t\tif ( char === '<' ) {\n\t\t\tvar substr$1 = str.substr( 0, i );\n\t\t\tsubstr$1 = _erase( substr$1, found ).trim();\n\t\t\tif ( beforeJsx.test( substr$1 ) ) { return stack.push( base ), jsxTagStart; }\n\t\t}\n\n\t\treturn base;\n\t}\n\n\tfunction slash ( char ) {\n\t\tif ( char === '/' ) { return lineComment; }\n\t\tif ( char === '*' ) { return blockComment; }\n\t\tif ( char === '[' ) { return regexEnabled ? regexCharacter : base; }\n\t\tif ( char === '\\\\' ) { return escapedFrom = regex, escaped; }\n\t\treturn regexEnabled && !pfixOp ? regex : base;\n\t}\n\n\tfunction regex ( char, i ) {\n\t\tif ( char === '[' ) { return regexCharacter; }\n\t\tif ( char === '\\\\' ) { return escapedFrom = regex, escaped; }\n\n\t\tif ( char === '/' ) {\n\t\t\tvar end = i + 1;\n\t\t\tvar outer = str.slice( start, end );\n\t\t\tvar inner = outer.slice( 1, -1 );\n\n\t\t\tfound.push({ start: start, end: end, inner: inner, outer: outer, type: 'regex' });\n\n\t\t\treturn base;\n\t\t}\n\n\t\treturn regex;\n\t}\n\n\tfunction regexCharacter ( char ) {\n\t\tif ( char === ']' ) { return regex; }\n\t\tif ( char === '\\\\' ) { return escapedFrom = regexCharacter, escaped; }\n\t\treturn regexCharacter;\n\t}\n\n\tfunction string ( char, i ) {\n\t\tif ( char === '\\\\' ) { return escapedFrom = string, escaped; }\n\t\tif ( char === quote ) {\n\t\t\tvar end = i + 1;\n\t\t\tvar outer = str.slice( start, end );\n\t\t\tvar inner = outer.slice( 1, -1 );\n\n\t\t\tfound.push({ start: start, end: end, inner: inner, outer: outer, type: 'string' });\n\n\t\t\treturn stack.pop();\n\t\t}\n\n\t\treturn string;\n\t}\n\n\tfunction escaped () {\n\t\treturn escapedFrom;\n\t}\n\n\tfunction templateString ( char, i ) {\n\t\tif ( char === '$' ) { return templateStringDollar; }\n\t\tif ( char === '\\\\' ) { return escapedFrom = templateString, escaped; }\n\n\t\tif ( char === '`' ) {\n\t\t\tvar end = i + 1;\n\t\t\tvar outer = str.slice( start, end );\n\t\t\tvar inner = outer.slice( 1, -1 );\n\n\t\t\tfound.push({ start: start, end: end, inner: inner, outer: outer, type: 'templateEnd' });\n\n\t\t\treturn base;\n\t\t}\n\n\t\treturn templateString;\n\t}\n\n\tfunction templateStringDollar ( char, i ) {\n\t\tif ( char === '{' ) {\n\t\t\tvar end = i + 1;\n\t\t\tvar outer = str.slice( start, end );\n\t\t\tvar inner = outer.slice( 1, -2 );\n\n\t\t\tfound.push({ start: start, end: end, inner: inner, outer: outer, type: 'templateChunk' });\n\n\t\t\tstack.push( templateString );\n\t\t\treturn base;\n\t\t}\n\t\treturn templateString( char, i );\n\t}\n\n\t// JSX is an XML-like extension to ECMAScript\n\t// https://facebook.github.io/jsx/\n\n\tfunction jsxTagStart ( char ) {\n\t\tif ( char === '/' ) { return jsxTagDepth--, jsxTag; }\n\t\treturn jsxTagDepth++, jsxTag;\n\t}\n\n\tfunction jsxTag ( char, i ) {\n\t\tif ( char === '\"' || char === \"'\" ) { return start = i, quote = char, stack.push( jsxTag ), string; }\n\t\tif ( char === '{' ) { return stack.push( jsxTag ), base; }\n\t\tif ( char === '>' ) {\n\t\t\tif ( jsxTagDepth <= 0 ) { return base; }\n\t\t\treturn jsx;\n\t\t}\n\t\tif ( char === '/' ) { return jsxTagSelfClosing; }\n\n\t\treturn jsxTag;\n\t}\n\n\tfunction jsxTagSelfClosing ( char ) {\n\t\tif ( char === '>' ) {\n\t\t\tjsxTagDepth--;\n\t\t\tif ( jsxTagDepth <= 0 ) { return base; }\n\t\t\treturn jsx;\n\t\t}\n\n\t\treturn jsxTag;\n\t}\n\n\tfunction jsx ( char ) {\n\t\tif ( char === '{' ) { return stack.push( jsx ), base; }\n\t\tif ( char === '<' ) { return jsxTagStart; }\n\n\t\treturn jsx;\n\t}\n\n\tfunction lineComment ( char, end ) {\n\t\tif ( char === '\\n' ) {\n\t\t\tvar outer = str.slice( start, end );\n\t\t\tvar inner = outer.slice( 2 );\n\n\t\t\tfound.push({ start: start, end: end, inner: inner, outer: outer, type: 'line' });\n\n\t\t\treturn base;\n\t\t}\n\n\t\treturn lineComment;\n\t}\n\n\tfunction blockComment ( char ) {\n\t\tif ( char === '*' ) { return blockCommentEnding; }\n\t\treturn blockComment;\n\t}\n\n\tfunction blockCommentEnding ( char, i ) {\n\t\tif ( char === '/' ) {\n\t\t\tvar end = i + 1;\n\t\t\tvar outer = str.slice( start, end );\n\t\t\tvar inner = outer.slice( 2, -2 );\n\n\t\t\tfound.push({ start: start, end: end, inner: inner, outer: outer, type: 'block' });\n\n\t\t\treturn base;\n\t\t}\n\n\t\treturn blockComment( char );\n\t}\n\n\tfor ( var i = 0; i < str.length; i += 1 ) {\n\t\tif ( !state ) {\n\t\t\tvar ref = getLocation( str, i );\n\t\t\tvar line = ref.line;\n\t\t\tvar column = ref.column;\n\t\t\tvar before = str.slice( 0, i );\n\t\t\tvar beforeLine = /(^|\\n).+$/.exec( before )[0];\n\t\t\tvar after = str.slice( i );\n\t\t\tvar afterLine = /.+(\\n|$)/.exec( after )[0];\n\n\t\t\tvar snippet = \"\" + beforeLine + afterLine + \"\\n\" + (Array( beforeLine.length + 1 ).join( ' ' )) + \"^\";\n\n\t\t\tthrow new Error( (\"Unexpected character (\" + line + \":\" + column + \"). If this is valid JavaScript, it's probably a bug in tippex. Please raise an issue at https://github.com/Rich-Harris/tippex/issues – thanks!\\n\\n\" + snippet) );\n\t\t}\n\n\t\tstate = state( str[i], i );\n\t}\n\n\treturn found;\n}\n\nfunction tokenClosesExpression ( substr, found ) {\n\tsubstr = _erase( substr, found );\n\n\tvar token = ambiguous.exec( substr );\n\tif ( token ) { token = token[1]; }\n\n\tif ( token === ')' ) {\n\t\tvar count = 0;\n\t\tvar i = substr.length;\n\t\twhile ( i-- ) {\n\t\t\tif ( substr[i] === ')' ) {\n\t\t\t\tcount += 1;\n\t\t\t}\n\n\t\t\tif ( substr[i] === '(' ) {\n\t\t\t\tcount -= 1;\n\t\t\t\tif ( count === 0 ) {\n\t\t\t\t\ti -= 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// if parenthesized expression is immediately preceded by `if`/`while`, it's not closing an expression\n\t\twhile ( /\\s/.test( substr[i - 1] ) ) { i -= 1; }\n\t\tif ( substr.slice( i - 2, i ) === 'if' || substr.slice( i - 5, i ) === 'while' ) { return false; }\n\t}\n\n\t// TODO handle }, ++ and -- tokens immediately followed by / character\n\treturn true;\n}\n\nfunction spaces ( count ) {\n\tvar spaces = '';\n\twhile ( count-- ) { spaces += ' '; }\n\treturn spaces;\n}\n\nvar erasers = {\n\tstring: function (chunk) { return chunk.outer[0] + spaces( chunk.inner.length ) + chunk.outer[0]; },\n\tline: function (chunk) { return spaces( chunk.outer.length ); },\n\tblock: function (chunk) { return chunk.outer.split( '\\n' ).map( function (line) { return spaces( line.length ); } ).join( '\\n' ); },\n\tregex: function (chunk) { return '/' + spaces( chunk.inner.length ) + '/'; },\n\ttemplateChunk: function (chunk) { return chunk.outer[0] + spaces( chunk.inner.length ) + '${'; },\n\ttemplateEnd: function (chunk) { return chunk.outer[0] + spaces( chunk.inner.length ) + '`'; }\n};\n\nfunction _erase ( str, found ) {\n\tvar erased = '';\n\tvar charIndex = 0;\n\n\tfor ( var i = 0; i < found.length; i += 1 ) {\n\t\tvar chunk = found[i];\n\t\terased += str.slice( charIndex, chunk.start );\n\t\terased += erasers[ chunk.type ]( chunk );\n\n\t\tcharIndex = chunk.end;\n\t}\n\n\terased += str.slice( charIndex );\n\treturn erased;\n}\n\nfunction makeGlobalRegExp ( original ) {\n\tvar flags = 'g';\n\n\tif ( original.multiline ) { flags += 'm'; }\n\tif ( original.ignoreCase ) { flags += 'i'; }\n\tif ( original.sticky ) { flags += 'y'; }\n\tif ( original.unicode ) { flags += 'u'; }\n\n\treturn new RegExp( original.source, flags );\n}\n\nfunction match ( str, pattern, callback ) {\n\tvar g = pattern.global;\n\tif ( !g ) { pattern = makeGlobalRegExp( pattern ); }\n\n\tvar found = find( str );\n\n\tvar match;\n\tvar chunkIndex = 0;\n\n\twhile ( match = pattern.exec( str ) ) {\n\t\tvar chunk = (void 0);\n\n\t\tdo {\n\t\t\tchunk = found[ chunkIndex ];\n\n\t\t\tif ( chunk && chunk.end < match.index ) {\n\t\t\t\tchunkIndex += 1;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} while ( chunk );\n\n\t\tif ( !chunk || chunk.start > match.index ) {\n\t\t\tvar args = [].slice.call( match ).concat( match.index, str );\n\t\t\tcallback.apply( null, args );\n\t\t\tif ( !g ) { break; }\n\t\t}\n\t}\n}\n\n/**\n * Finds the line and column position of character `char`\n   in a (presumably) multi-line string\n * @param {array} lines - an array of strings, each representing\n   a line of the original string\n * @param {number} char - the character index to convert\n * @returns {object}\n     * @property {number} line - the zero-based line index\n     * @property {number} column - the zero-based column index\n     * @property {number} char - the character index that was passed in\n */\nfunction getLinePosition ( lines, char ) {\n\tvar line = 0;\n\tvar lineStart = 0;\n\n\tvar lineEnds = lines.map( function ( line ) {\n\t\tlineStart += line.length + 1; // +1 for the newline\n\t\treturn lineStart;\n\t});\n\n\tlineStart = 0;\n\n\twhile ( char >= lineEnds[ line ] ) {\n\t\tlineStart = lineEnds[ line ];\n\t\tline += 1;\n\t}\n\n\tvar column = char - lineStart;\n\treturn { line: line, column: column, char: char };\n}\n\nvar requirePattern = /require\\s*\\(\\s*(?:\"([^\"]+)\"|'([^']+)')\\s*\\)/g;\nvar TEMPLATE_VERSION = 4;\nvar CACHE_PREFIX = '_rcu_';\n\nfunction parse ( source, parseOptions, typeAttrs, identifier, versionSuffix ) {\n\tif ( !Ractive ) {\n\t\tthrow new Error( 'rcu has not been initialised! You must call rcu.init(Ractive) before rcu.parse()' );\n\t}\n\n\n\tvar fromCache = getFromCache(source, identifier);\n\n\tvar parsed = fromCache || Ractive.parse( source, Object.assign( {\n\t\tnoStringify: true,\n\t\tinterpolate: { script: false, style: false }\n\t}, parseOptions || {}, { includeLinePositions: true } ) );\n\n\tif (fromCache === undefined) {\n\t\tregisterCache(source, parsed, identifier, versionSuffix);\n\t}\n\n\tif ( parsed.v !== TEMPLATE_VERSION ) {\n\t\tconsole.warn( (\"Mismatched template version (expected \" + TEMPLATE_VERSION + \", got \" + (parsed.v) + \")! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app\") ); // eslint-disable-line no-console\n\t}\n\n\tvar links = [];\n\tvar styles = [];\n\tvar modules = [];\n\n\t// Extract certain top-level nodes from the template. We work backwards\n\t// so that we can easily splice them out as we go\n\tvar template = parsed.t;\n\tvar i = template.length;\n\tvar scriptItem;\n\n\twhile ( i-- ) {\n\t\tvar item = template[i];\n\n\t\tif ( item && item.t === 7 ) {\n\t\t\tvar attr = getAttr( 'rel', item );\n\t\t\tif ( item.e === 'link' && attr === 'ractive' ) {\n\t\t\t\tlinks.push( template.splice( i, 1 )[0] );\n\t\t\t}\n\n\t\t\tattr = getAttr( 'type', item );\n\t\t\tif ( item.e === 'script' && ( !attr || attr === ( typeAttrs && typeAttrs.js ? typeAttrs.js : 'text/javascript' ) ) ) {\n\t\t\t\tif ( scriptItem ) {\n\t\t\t\t\tthrow new Error( 'You can only have one <script> tag per component file' );\n\t\t\t\t}\n\t\t\t\tscriptItem = template.splice( i, 1 )[0];\n\t\t\t}\n\n\t\t\tif ( item.e === 'style' && ( !attr || attr === ( typeAttrs && typeAttrs.css ? typeAttrs.css : 'text/css' ) ) ) {\n\t\t\t\tstyles.push( template.splice( i, 1 )[0] );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Clean up template - trim whitespace left over from the removal\n\t// of <link>, <style> and <script> tags from start...\n\twhile ( /^\\s*$/.test( template[0] ) ) template.shift();\n\n\t// ...and end\n\twhile ( /^\\s*$/.test( template[ template.length - 1 ] ) ) template.pop();\n\n\t// Extract names from links\n\tvar imports = links.map( function ( link ) {\n\t\tvar href = getAttr( 'href', link );\n\t\tvar name = getAttr( 'name', link ) || getName( href );\n\n\t\tif ( typeof name !== 'string' ) {\n\t\t\tthrow new Error( 'Error parsing link tag' );\n\t\t}\n\n\t\treturn { name: name, href: href };\n\t});\n\n\tvar result = {\n\t\tsource: source, imports: imports, modules: modules,\n\t\ttemplate: parsed,\n\t\tcss: styles.map( function ( item ) { return item.f; } ).join( ' ' ),\n\t\tscript: ''\n\t};\n\n\tif (identifier) {\n\t\tresult._componentPath = identifier;\n\t}\n\n\t// extract position information, so that we can generate source maps\n\tif ( scriptItem && scriptItem.f ) {\n\t\tvar content = scriptItem.f[0];\n\n\t\tvar contentStart = source.indexOf( '>', scriptItem.p[2] ) + 1;\n\n\t\t// we have to jump through some hoops to find contentEnd, because the contents\n\t\t// of the <script> tag get trimmed at parse time\n\t\tvar contentEnd = contentStart + content.length + source.slice( contentStart ).replace( content, '' ).indexOf( '</script' );\n\n\t\tvar lines = source.split( '\\n' );\n\n\t\tresult.scriptStart = getLinePosition( lines, contentStart );\n\t\tresult.scriptEnd = getLinePosition( lines, contentEnd );\n\n\t\tresult.script = source.slice( contentStart, contentEnd );\n\n\t\tmatch( result.script, requirePattern, function ( match, doubleQuoted, singleQuoted ) {\n\t\t\tvar source = doubleQuoted || singleQuoted;\n\t\t\tif ( !~modules.indexOf( source ) ) modules.push( source );\n\t\t});\n\t}\n\n\t// remove line positions to reduce the size\n\tif ( parseOptions && parseOptions.includeLinePositions === false ) {\n\t\tvar clean = function ( value ) {\n\t\t\tif ( !value || typeof value !== 'object' ) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif ( Object.prototype.hasOwnProperty.call( value, 'p' ) && Array.isArray( value.p ) && !value.p.filter( function ( n ) { return !Number.isInteger( n ); } ).length ) {\n\t\t\t\tdelete value.p;\n\t\t\t}\n\n\t\t\tObject.keys( value ).forEach( function ( key ) { return clean( value[key] ); } );\n\t\t\treturn value;\n\t\t};\n\n\t\tclean( result );\n\t}\n\n\treturn result;\n}\n\n\nfunction checksum (s) {\n\tvar chk = 0x12345678;\n\tvar len = s.length;\n\n\tfor (var i = 0; i < len; i++) {\n\t\tchk += (s.charCodeAt(i) * (i + 1));\n\t}\n\n\treturn (chk & 0xffffffff).toString(16);\n}\n\nvar getCacheKey = function (identifier, checksum) {\n\treturn identifier ? CACHE_PREFIX + identifier : CACHE_PREFIX + checksum;\n};\n\nvar prepareCacheEntry = function (compiled, checkSum, versionSuffix) {\n\treturn {\n\t\tdate: new Date(),\n\t\tcheckSum: checkSum,\n\t\tdata: compiled,\n\t\tversionSuffix: versionSuffix,\n\t\tractiveVersion: Ractive.VERSION\n\t};\n};\n\nvar registerCache = function (source, compiled, identifier, versionSuffix) {\n\ttry {\n\t\tvar checkSum = checksum(source);\n\t\tif (typeof window != 'undefined' && typeof window.localStorage != 'undefined') {\n\t\t\twindow.localStorage.setItem(getCacheKey(identifier, checkSum), JSON.stringify(prepareCacheEntry(compiled, checkSum, versionSuffix)));\n\t\t}\n\t} catch (e) {\n\t\t//noop\n\t}\n};\n\nfunction getFromCache (source, identifier) {\n\ttry {\n\t\tvar checkSum = checksum(source);\n\t\tif (typeof window != 'undefined' && typeof window.localStorage != 'undefined') {\n\t\t\tvar item = localStorage.getItem(getCacheKey(identifier,checkSum));\n\t\t\tif (item) {\n\t\t\t\tvar parsed = JSON.parse(item);\n\t\t\t\treturn parsed.checkSum === checkSum && Ractive.VERSION === parsed.ractiveVersion ? parsed.data : undefined;\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\t//noop\n\t}\n\treturn undefined;\n}\n\nfunction getAttr ( name, node ) {\n\tif ( node.a && node.a[name] ) return node.a[name];\n\telse if ( node.m ) {\n\t\tvar i = node.m.length;\n\t\twhile ( i-- ) {\n\t\t\tvar a = node.m[i];\n\t\t\t// plain attribute\n\t\t\tif ( a.t === 13 ) {\n\t\t\t\tif ( a.n === name ) return a.f;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction make ( source, config, callback, errback ) {\n\tconfig = config || {};\n\n\t// Implementation-specific config\n\tvar url        = config.url || '';\n\tvar versionSuffix = config.versionSuffix || '';\n\tvar loadImport = config.loadImport;\n\tvar loadModule = config.loadModule;\n\tvar parseOptions = config.parseOptions;\n\tvar typeAttrs = config.typeAttrs;\n\n\tvar definition = parse( source, parseOptions, typeAttrs, url, versionSuffix );\n\n\tvar imports = {};\n\n\tfunction cssContainsRactiveDelimiters (cssDefinition) {\n\t\t//TODO: this can use Ractive's default delimiter definitions, and perhaps a single REGEX for match\n\t\treturn cssDefinition\n            && cssDefinition.indexOf('{{') !== -1\n            && cssDefinition.indexOf('}}') !== -1;\n\t}\n\n\tfunction determineCss (cssDefinition) {\n\t\tif (cssContainsRactiveDelimiters(cssDefinition)) {\n\t\t\treturn function (d) {\n\t\t\t\treturn Ractive({\n\t\t\t\t\ttemplate: definition.css,\n\t\t\t\t\tdata: d()\n\t\t\t\t}).fragment.toString(false);\n\t\t\t};\n\t\t} else {\n\t\t\treturn definition.css;\n\t\t}\n\t}\n\n\tfunction createComponent () {\n\t\tvar options = {\n\t\t\ttemplate: definition.template,\n\t\t\tpartials: definition.partials,\n\t\t\t_componentPath: definition._componentPath,\n\t\t\tcss: determineCss(definition.css),\n\t\t\tcomponents: imports\n\t\t};\n\n\t\tvar Component;\n\n\t\tif ( definition.script ) {\n\t\t\tvar sourceMap = generateSourceMap( definition, {\n\t\t\t\tsource: url,\n\t\t\t\tcontent: source\n\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tvar factory = new eval2.Function( 'component', 'require', 'Ractive', definition.script, {\n\t\t\t\t\tsourceMap: sourceMap\n\t\t\t\t});\n\n\t\t\t\tvar component = {};\n\t\t\t\tfactory( component, config.require, Ractive );\n\t\t\t\tvar exports = component.exports;\n\n\t\t\t\tif ( typeof exports === 'object' ) {\n\t\t\t\t\tfor ( var prop in exports ) {\n\t\t\t\t\t\tif ( exports.hasOwnProperty( prop ) ) {\n\t\t\t\t\t\t\toptions[ prop ] = exports[ prop ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tComponent = Ractive.extend( options );\n\t\t\t} catch ( err ) {\n\t\t\t\terrback( err );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcallback( Component );\n\t\t} else {\n\t\t\tComponent = Ractive.extend( options );\n\t\t\tcallback( Component );\n\t\t}\n\t}\n\n\t// If the definition includes sub-components e.g.\n\t//     <link rel='ractive' href='foo.html'>\n\t//\n\t// ...then we need to load them first, using the loadImport method\n\t// specified by the implementation.\n\t//\n\t// In some environments (e.g. AMD) the same goes for modules, which\n\t// most be loaded before the script can execute\n\tvar remainingDependencies = ( definition.imports.length + ( loadModule ? definition.modules.length : 0 ) );\n\tvar ready = false;\n\n\tif ( remainingDependencies ) {\n\t\tvar onloaded = function () {\n\t\t\tif ( !--remainingDependencies ) {\n\t\t\t\tif ( ready ) {\n\t\t\t\t\tcreateComponent();\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout( createComponent ); // cheap way to enforce asynchrony for a non-Zalgoesque API\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif ( definition.imports.length ) {\n\t\t\tif ( !loadImport ) {\n\t\t\t\tthrow new Error( (\"Component definition includes imports (e.g. <link rel=\\\"ractive\\\" href=\\\"\" + (definition.imports[0].href) + \"\\\">) but no loadImport method was passed to rcu.make()\") );\n\t\t\t}\n\n\t\t\tdefinition.imports.forEach( function ( toImport ) {\n\t\t\t\tloadImport( toImport.name, toImport.href, url, function ( Component ) {\n\t\t\t\t\timports[ toImport.name ] = Component;\n\t\t\t\t\tonloaded();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tif ( loadModule && definition.modules.length ) {\n\t\t\tdefinition.modules.forEach( function ( name ) {\n\t\t\t\tloadModule( name, name, url, onloaded );\n\t\t\t});\n\t\t}\n\t} else {\n\t\tsetTimeout( createComponent, 0 );\n\t}\n\n\tready = true;\n}\n\nfunction resolvePath ( relativePath, base ) {\n\t// If we've got an absolute path, or base is '', return\n\t// relativePath\n\tif ( !base || relativePath.charAt( 0 ) === '/' ) {\n\t\treturn relativePath;\n\t}\n\n\t// 'foo/bar/baz.html' -> ['foo', 'bar', 'baz.html']\n\tvar pathParts = ( base || '' ).split( '/' );\n\tvar relativePathParts = relativePath.split( '/' );\n\n\t// ['foo', 'bar', 'baz.html'] -> ['foo', 'bar']\n\tpathParts.pop();\n\n\tvar part;\n\n\twhile ( part = relativePathParts.shift() ) {\n\t\tif ( part === '..' ) {\n\t\t\tpathParts.pop();\n\t\t} else if ( part !== '.' ) {\n\t\t\tpathParts.push( part );\n\t\t}\n\t}\n\n\treturn pathParts.join( '/' );\n}\n\nexport { generateSourceMap, getName, init, make, parse, resolvePath as resolve };"],"names":["name","req","source","callback","errback","config","versionSuffix","isBuild","rvc","amdLoader","rcu","Ractive","defaults","data","requireJsConfig","ractiveDefaultsData","requireconfig","builtModule","definition","script","JSON","stringify","dependencies","dependencyArgs","join","options","push","importMap","imports","length","minifycss","css","toSource","template","concat","modules","argumentName","href","replace","i","toImport","forEach","build","test","string","KEYWORD_REGEXP","legalKey","key","walk","object","filter","indent","nextIndent","seen","slice","keys","map","Object","element","Array","isArray","elements","seenIndex","indexOf","Date","getTime","RegExp","toString","currentIndent","undefined","startingIndent","path","baseUrl","rvcRootPath","charAt","base","load","prop","obj","hasOwnProperty","nestedPropertyExists","props","shift","requirejs","s","contexts","_","Error","fetch","content","close","err","String","stringBuffer","append","line","lineSeparator","input","readLine","substring","java","lang","StringBuffer","io","BufferedReader","InputStreamReader","FileInputStream","file","encoding","System","getProperty","File","Packages","fs","readFileSync","nodeRequire","process","versions","node","send","xhr","responseText","url","status","readyState","onreadystatechange","evt","open","inlineRequire","getXhr","XDomainRequest","sameDomain","progId","e","ActiveXObject","progIds","XMLHttpRequest","domainCheck","window","location","protocol","host","exec","asModule","pluginName","toUrl","pluginId","buildCache","write","compiled","moduleName","error","fromText","self","queryString","validExt","ext","substr","allowExts","match","precompiled","require","arguments","loader","compile"],"mappings":"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"}